* handshake logic unit test  [done]
* add handshake timeout logic
